\chapter{Implementation of HUSTLE}\label{chap:implementation}
This section describes the recipe databse and experimental studies on this database by applying the featured ingredient analysis algorithm.  

\subsection{The Recipe Database}

We build a recipe database in which recipes are grouped by region. A script written in Python crawls all the recipes from a Japanese cooking website~\cite{web:recipe}. We chose this website because the recipes are typical foods grouped by regions. The website is only for Japanese recipes, thus we now only have the database for Japanese foods. Each food is characterized by its name, the region it belongs to and its recipe. Each recipe is stored as a map collection in which the ingredient is the key and the couple of amount and unit is the value. Each of the recipes we get from the website is created for various amounts of people. For example, there are recipes for 4 people but there are also recipes for 3 people. Thus we need to normalize the ingredients' amount in each recipe for one person.

\par There are about 200 recipes over 7 regions in Japan: Kanto, Hokkaido-Tohoku, Shikoku, Tyubu, Kyusyu-Okinawa, Kansai and Tyugoku. We calculate all the above functions for every recipe in Japan, but we only show the experimental results of Kanto and Shikoku within this paper. We chose these two regions because they lie far apart in different islands of Japan. The experimental results are discussed below. 

\subsection{Ingredient Frequency}

\begin{CJK}{UTF8}{min}

Table~\ref{tab:IF} shows that there are some common ingredients which often appear in both Kanto and Shikoku regions such as Soy Sauce (しょうゆ), Sake (酒), Salt (塩),\ldots This is reasonable because we know that these ingredients are common in Japan. Because they often appear in other regions, the $IF$ function is not enough to evaluate the region's featured ingredients. However, it helps us partially understand the habit in using materials in regions. For example, Green onion (万能ねぎ) often appears in Shikoku but not in Kanto region and Sugar (砂糖) often appears in Kanto but not in Shikoku region. This leads us to the idea that typical Kanto foods are often sweeter than Shikoku foods. 

\begin{table}

\centering
\caption{Ingredient Frequency of Ingredients in Kanto region vs Shikoku region}
\begin{tabular}{|c|c|c|c|}
\hline
\multicolumn{2}{|c|}{\textbf{\large Kanto region}} & \multicolumn{2}{|c|}{\textbf{\large Shikoku region}} \\
\cline{1-4}

\textbf{Ingredient} &\textbf{ IF} & \textbf{Ingredient} & \textbf{IF}\\ \hline
Soy Sauce (醤油) 	& 1.00 & Soy Sauce (醤油) & 1.00 \\ \hline
Miso (みそ)			& 0.9  &	 Salt (塩)	& 1.00  \\ \hline
Sugar (砂糖) 			& 0.83 & Rice (米) & 0.83 \\ \hline
Sake (酒)				& 0.83 & Sake (酒) & 0.67\\ \hline
Salt 			& 0.67 & Green onion & 0.50\\
(塩) & & (万能ねぎ) & \\ \hline
\ldots &\ldots & \ldots & \ldots \\ \hline
Dried bonito  			& 0.08 	& Kelp soup 	& 0.16  \\ 
(かつお節) & & (ダシ昆布) & \\ \hline
Pumpkin 			& 0.08 & Deep-fried Tofu 	& 0.16  \\ 
(かぼちゃ)  & & (油揚げ) & \\ \hline
Kamaage Shirashi  & 0.08 & Seared bonito  & 0.16  \\ 
(釜揚げしらす)  & & (鰹の敲き) & \\\hline		

\end{tabular}

\label{tab:IF}
\end{table}

\end{CJK}


\subsection{Ingredient Amount}

\begin{CJK}{UTF8}{min}

\begin{table}

\centering
\caption{Ingredient Amount of Ingredients in Kanto region vs Shikoku region}
\begin{tabular}{|c|c|c|c|}
\hline
\multicolumn{2}{|c|}{\textbf{\large Kanto region}} & \multicolumn{2}{|c|}{\textbf{\large Shikoku region}} \\
\cline{1-4}

\textbf{Ingredient} &	\textbf{IA} &\textbf{Ingredient} & \textbf{IA}\\ \hline
White radish & 4.27 &  Shredded seaweed& 6.00 \\
(大根)	& &  (刻みのり)  & \\ \hline
Tempura flour 	& 3.20  & Carrot& 3.95 \\
(天ぷら粉)  & &  (にんじん) & \\ \hline
 Shredded seaweed 		& 3.00 & Tempura flour & 3.20\\
(刻みのり) & &  (天ぷら粉)  & \\ \hline
\ldots &\ldots & \ldots & \ldots \\ \hline
Taro 	& 0.02& Sweet potato &0.06 \\ 
 (里芋)	&  &  (さつまいも) & \\ \hline
Cake flour	& 0.02& Chicken thigh&0.05\\ 
 (薄力粉) & &  (鶏もも肉) & \\ \hline
Field mustard	& 0.02& Sushi vinegar & 0.05\\
 (菜の花)  & & (すし酢) & \\ \hline

\end{tabular}

\label{tab:IA}
\end{table} 
 
Table~\ref{tab:IA} shows the result of the $IA$ value for Kanto and Shikoku region. We can see that most of the $IA$ values are around 1, which means there is not much difference in the way of using an ingredients' amount between Shikoku region and other regions. However, there are some interesting results. For example, in Kansai region, the mean amount of pepper (こしょう) is 11 times greater than the mean amount of total peper in Japan. See details in Table~\ref{tab:IAoutlier}. 




\subsection{Ingredient Uniqueness}
\begin{CJK}{UTF8}{min}

Table~\ref{tab:IU} reflects the fact that the common ingredients such as Salt (塩), Sweet cooking wine (みりん), Ginger (しょうが), Soy sauce (しょうゆ) appear in almost every regions in Japan while the ingredients such as Peanut (落花生) and Chive (あさつき) are not too common and mostly appear in only one region. The ingredients which have the $IU$ value of 0 appear in every region.


\begin{table}
\centering
\caption{Ingredient Amount of Ingredients in Tyubu region vs Kansai region}
\begin{tabular}{|c|c|c|c|}
\hline
\multicolumn{2}{|c|}{\textbf{\large Tyubu region}} & \multicolumn{2}{|c|}{\textbf{\large Kansai region}} \\
\cline{1-4}

\textbf{Ingredient} &\textbf{ IA} & \textbf{Ingredient} & \textbf{IA}\\ \hline
Pork loin 	&	25.50 	& Pepper 	&11.00\\ 
 (豚ロース肉) & & (こしょう) & \\ \hline
Seaweed 		&	6.00		& Sweet cooking wine 		&6.88\\ 
(刻みのり) & & (みりん) & \\ \hline
Green onion 	&	3.72		& Soy sauce 	& 5.49\\ 
 (長ねぎ)	 & & (醤油)	 & \\ \hline
Onion		&	3.60		& Green onion 		&3.72\\ 
 (玉ねぎ) & & (長ねぎ) & \\ \hline
\ldots &\ldots & \ldots & \ldots \\ \hline
Taro (里芋)			&	0.03		& Milk (牛乳)		&0.04\\ \hline
Cake flour	&	0.02		& Minced chicken		&0.03\\ 
 (薄力粉)	 & &  (鶏ひき肉) & \\ \hline
Pepper (こしょう)		&	0.01		& Soup (だし汁)		&0.01\\ \hline

\end{tabular}

\label{tab:IAoutlier}
\end{table} 
\end{CJK}


\begin{table}
\centering
\caption{Ingredient Uniqueness of Ingredients in Japan}
\begin{tabular}{|c|c|}
\hline

\textbf{Ingredient} &	 \textbf{IU} \\ \hline
Peanut (落花生) 		&	2.80 \\ \hline
Chive (あさつき) 		&	2.80 \\ \hline
\ldots 		&\ldots  \\ \hline
Salt (塩)			&	0.00 \\ \hline
Sweet cooking wine (みりん)		&	0.00 \\ \hline
Ginger (しょうが)		& 	0.00 \\ \hline
Soy sauce (しょうゆ)		&	0.00\\ \hline
\end{tabular}

\label{tab:IU}
\end{table} 
\end{CJK}


\subsection{Featured Index}

\begin{CJK}{UTF8}{min}

The Featured Index ($FI$) is the main metric we use to elvaluate the regions' featured ingredients. Table~\ref{tab:FI}, which is the experimental result of $FI$ calculation for Kanto vs Shikoku region, shows us some interesting information. For example, Natto (納豆) is the ingredient which has the highest $FI$ value in Kanto region. This means Natto (納豆) is possibly the featured ingredient of Kanto region. In Shikoku region, Ponzu sauce (ポン酢) is also often used for Shikoku's foods. The $FI$ of the same ingredient for different regions might differentiate but we figure that if an ingredient ranks high in one region, it cannot rank high in any other regions. The same thing is true for the low-rank ingredients.	  

\begin{table}
\centering
\caption{Featured Index of Ingredients in Kanto region and Shikoku region}
\begin{tabular}{|c|c|c|c|}
\hline
\multicolumn{2}{|c|}{\textbf{\large Kanto region}} & \multicolumn{2}{|c|}{\textbf{\large Shikoku region}} \\
\cline{1-4}

\textbf{Ingredient} &	\textbf{ FI} & \textbf{Ingredient} & \textbf{FI}\\ \hline
Natto (納豆)		&0.60 	& Kelp (昆布)		&	1.40\\ \hline
Dried radish 	&0.47 	& Sea bream 	&	0.94\\ 
 (切干大根) & & (鯛の切り身)  & \\ \hline
Saury 	&0.47 	&  Ponzu suace 	& 	0.90\\
(さんま) & & (ポン酢) & \\ \hline
\ldots 		&\ldots 	& \ldots 			& 	\ldots \\ \hline
Vineger		& 0.00 	& Sweet cooking wine 	&	0.00  \\
 (酢)	& & (みりん) & \\ \hline
Shredded seaweed 	&0.00	& Egg 				&	0.00 \\ 
(刻みのり) & & (卵) & \\ \hline
Wine (酒)			&0.00	& Wine (酒)					&	0.00 \\ \hline
Ginger (しょうが) 		&0.00	& Rice (米)					&	0.00 \\ \hline
\end{tabular}

\label{tab:FI}
\end{table} 

\end{CJK}